{% extends "index.html" %}
{% load static %}
{% block title %}Add Savings Goal{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Add Savings Goal</h2>
    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label for="name">Goal Name:</label>
            <input type="text" name="name" id="name" class="form-control" required>
        </div>

        <div class="form-group mt-3">
            <label for="target_amount">Target Amount:</label>
            <input type="text" name="target_amount" id="target_amount" class="form-control" required>
        </div>

        <div class="form-group mt-3">
            <label for="due_date">Due Date:</label>
            <input type="date" name="due_date" id="due_date" class="form-control">
        </div>

        <div class="form-group mt-3">
            <label for="transactions">Assign Transactions:</label>
            <select name="transactions" id="transactions" class="form-control" multiple>
                {% for transaction in available_transactions %}
                <option value="{{ transaction.id }}">
                    {{ transaction.date }} - {{ transaction.amount }} {{ user.profile.currency }} - {{ transaction.category.name }}
                </option>
                {% endfor %}
            </select>
            <small class="form-text text-muted">Hold down Ctrl (Windows) or Command (Mac) to select multiple transactions.</small>
        </div>

        <button type="submit" class="btn btn-primary mt-4">Add Savings Goal</button>
    </form>
</div>
{% endblock %}